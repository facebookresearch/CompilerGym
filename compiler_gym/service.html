<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>compiler_gym.service &mdash; CompilerGym 0.2.5 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="compiler_gym.service.runtime" href="service/runtime.html" />
    <link rel="prev" title="compiler_gym.leaderboard" href="leaderboard.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.2.5
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rpc.html">RPC Service Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Environments</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../llvm/index.html">LLVM Environment Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../envs/gcc.html">GCC Environment Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../envs/loop_tool.html">loop_tool Environment Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../envs/mlir.html">MLIR Environment Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="compiler_gym.html">compiler_gym</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">compiler_gym.datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="envs.html">compiler_gym.envs</a></li>
<li class="toctree-l1"><a class="reference internal" href="envs/gcc.html">compiler_gym.envs.gcc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../llvm/api.html">compiler_gym.envs.llvm</a></li>
<li class="toctree-l1"><a class="reference internal" href="leaderboard.html">compiler_gym.leaderboard</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">compiler_gym.service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-compilationsession-interface">The CompilationSession Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#compiler_gym.service.CompilationSession"><code class="docutils literal notranslate"><span class="pre">CompilationSession</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.CompilationSession.__init__"><code class="docutils literal notranslate"><span class="pre">CompilationSession.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.CompilationSession.action_spaces"><code class="docutils literal notranslate"><span class="pre">CompilationSession.action_spaces</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.CompilationSession.apply_action"><code class="docutils literal notranslate"><span class="pre">CompilationSession.apply_action()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.CompilationSession.compiler_version"><code class="docutils literal notranslate"><span class="pre">CompilationSession.compiler_version</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.CompilationSession.fork"><code class="docutils literal notranslate"><span class="pre">CompilationSession.fork()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.CompilationSession.get_observation"><code class="docutils literal notranslate"><span class="pre">CompilationSession.get_observation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.CompilationSession.handle_session_parameter"><code class="docutils literal notranslate"><span class="pre">CompilationSession.handle_session_parameter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.CompilationSession.observation_spaces"><code class="docutils literal notranslate"><span class="pre">CompilationSession.observation_spaces</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#clientservicecompilerenv">ClientServiceCompilerEnv</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.__init__"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.action_space"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.action_space</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.action_spaces"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.action_spaces</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.apply"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.apply()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.benchmark"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.benchmark</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.close"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.close()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.commandline"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.commandline()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.commandline_to_actions"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.commandline_to_actions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.compiler_version"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.compiler_version</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.episode_reward"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.episode_reward</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.episode_walltime"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.episode_walltime</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.fork"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.fork()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.in_episode"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.in_episode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.multistep"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.multistep()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.observation"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.observation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.observation_space"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.observation_space</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.raw_step"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.raw_step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.render"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.render()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reset"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.reset()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reward"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.reward</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reward_range"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.reward_range</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reward_space"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.reward_space</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.send_param"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.send_param()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.send_params"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.send_params()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.state"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.validate"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.validate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.version"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.version</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.versions"><code class="docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv.versions</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ServiceMessageConverters"><code class="docutils literal notranslate"><span class="pre">ServiceMessageConverters</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ServiceMessageConverters.__init__"><code class="docutils literal notranslate"><span class="pre">ServiceMessageConverters.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-connection-object">The connection object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#compiler_gym.service.CompilerGymServiceConnection"><code class="docutils literal notranslate"><span class="pre">CompilerGymServiceConnection</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.CompilerGymServiceConnection.__init__"><code class="docutils literal notranslate"><span class="pre">CompilerGymServiceConnection.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.CompilerGymServiceConnection.__call__"><code class="docutils literal notranslate"><span class="pre">CompilerGymServiceConnection.__call__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.CompilerGymServiceConnection.closed"><code class="docutils literal notranslate"><span class="pre">CompilerGymServiceConnection.closed</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.CompilerGymServiceConnection.restart"><code class="docutils literal notranslate"><span class="pre">CompilerGymServiceConnection.restart()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-the-connection">Configuring the connection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#compiler_gym.service.ConnectionOpts"><code class="docutils literal notranslate"><span class="pre">ConnectionOpts</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.ConnectionOpts.always_send_benchmark_on_reset"><code class="docutils literal notranslate"><span class="pre">ConnectionOpts.always_send_benchmark_on_reset</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.ConnectionOpts.init_max_attempts"><code class="docutils literal notranslate"><span class="pre">ConnectionOpts.init_max_attempts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.ConnectionOpts.init_max_seconds"><code class="docutils literal notranslate"><span class="pre">ConnectionOpts.init_max_seconds</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.ConnectionOpts.local_service_exit_max_seconds"><code class="docutils literal notranslate"><span class="pre">ConnectionOpts.local_service_exit_max_seconds</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.ConnectionOpts.local_service_port_init_max_seconds"><code class="docutils literal notranslate"><span class="pre">ConnectionOpts.local_service_port_init_max_seconds</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.ConnectionOpts.retry_wait_backoff_exponent"><code class="docutils literal notranslate"><span class="pre">ConnectionOpts.retry_wait_backoff_exponent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.ConnectionOpts.retry_wait_seconds"><code class="docutils literal notranslate"><span class="pre">ConnectionOpts.retry_wait_seconds</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.ConnectionOpts.rpc_init_max_seconds"><code class="docutils literal notranslate"><span class="pre">ConnectionOpts.rpc_init_max_seconds</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.ConnectionOpts.rpc_max_retries"><code class="docutils literal notranslate"><span class="pre">ConnectionOpts.rpc_max_retries</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.ConnectionOpts.script_args"><code class="docutils literal notranslate"><span class="pre">ConnectionOpts.script_args</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiler_gym.service.ConnectionOpts.script_env"><code class="docutils literal notranslate"><span class="pre">ConnectionOpts.script_env</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#compiler_gym.service.ServiceError"><code class="docutils literal notranslate"><span class="pre">ServiceError</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiler_gym.service.EnvironmentNotSupported"><code class="docutils literal notranslate"><span class="pre">EnvironmentNotSupported</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiler_gym.service.ServiceInitError"><code class="docutils literal notranslate"><span class="pre">ServiceInitError</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiler_gym.service.ServiceTransportError"><code class="docutils literal notranslate"><span class="pre">ServiceTransportError</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiler_gym.service.ServiceIsClosed"><code class="docutils literal notranslate"><span class="pre">ServiceIsClosed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiler_gym.service.SessionNotFound"><code class="docutils literal notranslate"><span class="pre">SessionNotFound</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="service/runtime.html">compiler_gym.service.runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="spaces.html">compiler_gym.spaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="views.html">compiler_gym.views</a></li>
<li class="toctree-l1"><a class="reference internal" href="wrappers.html">compiler_gym.wrappers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">C++ API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cc/compiler_gym/envs/llvm/service.html">compiler_gym/envs/llvm/service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc/compiler_gym/service.html">compiler_gym/service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc/compiler_gym/service/runtime.html">compiler_gym/service/runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc/compiler_gym/util.html">compiler_gym/util</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CompilerGym</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>compiler_gym.service</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/compiler_gym/service.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="compiler-gym-service">
<h1>compiler_gym.service<a class="headerlink" href="#compiler-gym-service" title="Permalink to this heading"></a></h1>
<p>The <code class="code docutils literal notranslate"><span class="pre">compiler_gym.service</span></code> module provides a client/service implementation
of the <a class="reference internal" href="envs.html#compiler_gym.envs.CompilerEnv" title="compiler_gym.envs.CompilerEnv"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompilerEnv</span></code></a> interface. Services
provide an interface for manipulating compiler behavior. Clients are Python
frontend objects that provide a reinforcement learning abstraction on top of the
service. Communication between the service and client is done <a class="reference internal" href="../rpc.html"><span class="doc">using RPC</span></a>. The connection between the client and service is managed by the
<a class="reference internal" href="#compiler_gym.service.CompilerGymServiceConnection" title="compiler_gym.service.CompilerGymServiceConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompilerGymServiceConnection</span></code></a> object.</p>
<div class="contents local topic" id="document-contents">
<p class="topic-title">Document contents:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#the-compilationsession-interface" id="id7">The CompilationSession Interface</a></p></li>
<li><p><a class="reference internal" href="#clientservicecompilerenv" id="id8">ClientServiceCompilerEnv</a></p></li>
<li><p><a class="reference internal" href="#the-connection-object" id="id9">The connection object</a></p></li>
<li><p><a class="reference internal" href="#configuring-the-connection" id="id10">Configuring the connection</a></p></li>
<li><p><a class="reference internal" href="#exceptions" id="id11">Exceptions</a></p></li>
</ul>
</div>
<section id="the-compilationsession-interface">
<h2><a class="toc-backref" href="#id7">The CompilationSession Interface</a><a class="headerlink" href="#the-compilationsession-interface" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="compiler_gym.service.CompilationSession">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">compiler_gym.service.</span></span><span class="sig-name descname"><span class="pre">CompilationSession</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">working_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ActionSpace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">benchmark</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Benchmark</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/compiler_gym/service/compilation_session.html#CompilationSession"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.CompilationSession" title="Permalink to this definition"></a></dt>
<dd><p>Base class for encapsulating an incremental compilation session.</p>
<p>To add support for a new compiler, subclass from this base and provide
implementations of the abstract methods, then call
<code class="xref py py-func docutils literal notranslate"><span class="pre">create_and_run_compiler_service</span></code> and pass in
your class type:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">compiler_gym.service</span> <span class="kn">import</span> <span class="n">CompilationSession</span>
<span class="kn">from</span> <span class="nn">compiler_gym.service</span> <span class="kn">import</span> <span class="n">runtime</span>

<span class="k">class</span> <span class="nc">MyCompilationSession</span><span class="p">(</span><span class="n">CompilationSession</span><span class="p">):</span>
    <span class="o">...</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">runtime</span><span class="o">.</span><span class="n">create_and_run_compiler_service</span><span class="p">(</span><span class="n">MyCompilationSession</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.CompilationSession.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">working_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ActionSpace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">benchmark</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Benchmark</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/compiler_gym/service/compilation_session.html#CompilationSession.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.CompilationSession.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Start a CompilationSession.</p>
<p>Subclasses should initialize the parent class first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>working_dir</strong> – A directory on the local filesystem that can be used
to store temporary files such as build artifacts.</p></li>
<li><p><strong>action_space</strong> – The action space to use.</p></li>
<li><p><strong>benchmark</strong> – The benchmark to use.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.CompilationSession.action_spaces">
<span class="sig-name descname"><span class="pre">action_spaces</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ActionSpace</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#compiler_gym.service.CompilationSession.action_spaces" title="Permalink to this definition"></a></dt>
<dd><p>A list of action spaces describing the capabilities of the compiler.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.CompilationSession.apply_action">
<span class="sig-name descname"><span class="pre">apply_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Event</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">ActionSpace</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/compilation_session.html#CompilationSession.apply_action"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.CompilationSession.apply_action" title="Permalink to this definition"></a></dt>
<dd><p>Apply an action.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>action</strong> – The action to apply.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple: :code:<a href="#id1"><span class="problematic" id="id2">`</span></a>(end_of_session, new_action_space,</p>
</dd>
</dl>
<p>action_had_no_effect)`.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.CompilationSession.compiler_version">
<span class="sig-name descname"><span class="pre">compiler_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#compiler_gym.service.CompilationSession.compiler_version" title="Permalink to this definition"></a></dt>
<dd><p>The compiler version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.CompilationSession.fork">
<span class="sig-name descname"><span class="pre">fork</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#compiler_gym.service.CompilationSession" title="compiler_gym.service.compilation_session.CompilationSession"><span class="pre">CompilationSession</span></a></span></span><a class="reference internal" href="../_modules/compiler_gym/service/compilation_session.html#CompilationSession.fork"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.CompilationSession.fork" title="Permalink to this definition"></a></dt>
<dd><p>Create a copy of current session state.</p>
<p>Implementing this method is optional.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new CompilationSession with the same state.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.CompilationSession.get_observation">
<span class="sig-name descname"><span class="pre">get_observation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">observation_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ObservationSpace</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Event</span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/compilation_session.html#CompilationSession.get_observation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.CompilationSession.get_observation" title="Permalink to this definition"></a></dt>
<dd><p>Compute an observation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>observation_space</strong> – The observation space.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An observation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.CompilationSession.handle_session_parameter">
<span class="sig-name descname"><span class="pre">handle_session_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/compilation_session.html#CompilationSession.handle_session_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.CompilationSession.handle_session_parameter" title="Permalink to this definition"></a></dt>
<dd><p>Handle a session parameter send by the frontend.</p>
<p>Session parameters provide a method to send ad-hoc key-value messages to
a compilation session through the <code class="xref py py-meth docutils literal notranslate"><span class="pre">env.send_session_parameter()</span></code> method. It us up
to the client/service to agree on a common schema for encoding and
decoding these parameters.</p>
<p>Implementing this method is optional.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The parameter key.</p></li>
<li><p><strong>value</strong> – The parameter value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string response message if the parameter was understood. Else
<code class="code docutils literal notranslate"><span class="pre">None</span></code> to indicate that the message could not be interpretted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.CompilationSession.observation_spaces">
<span class="sig-name descname"><span class="pre">observation_spaces</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ObservationSpace</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#compiler_gym.service.CompilationSession.observation_spaces" title="Permalink to this definition"></a></dt>
<dd><p>A list of feature vectors that this compiler provides.</p>
</dd></dl>

</dd></dl>

</section>
<section id="clientservicecompilerenv">
<h2><a class="toc-backref" href="#id8">ClientServiceCompilerEnv</a><a class="headerlink" href="#clientservicecompilerenv" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">compiler_gym.service.client_service_compiler_env.</span></span><span class="sig-name descname"><span class="pre">ClientServiceCompilerEnv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">service</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.reward.Reward"><span class="pre">Reward</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datasets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="datasets.html#compiler_gym.datasets.Dataset" title="compiler_gym.datasets.dataset.Dataset"><span class="pre">Dataset</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">benchmark</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="datasets.html#compiler_gym.datasets.Benchmark" title="compiler_gym.datasets.benchmark.Benchmark"><span class="pre">Benchmark</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="views.html#compiler_gym.views.ObservationSpaceSpec" title="compiler_gym.views.observation_space_spec.ObservationSpaceSpec"><span class="pre">ObservationSpaceSpec</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.reward.Reward"><span class="pre">Reward</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">derived_observation_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service_message_converters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ServiceMessageConverters" title="compiler_gym.service.client_service_compiler_env.ServiceMessageConverters"><span class="pre">ServiceMessageConverters</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_settings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#compiler_gym.service.ConnectionOpts" title="compiler_gym.service.connection.ConnectionOpts"><span class="pre">ConnectionOpts</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service_connection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#compiler_gym.service.CompilerGymServiceConnection" title="compiler_gym.service.connection.CompilerGymServiceConnection"><span class="pre">CompilerGymServiceConnection</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv" title="Permalink to this definition"></a></dt>
<dd><p>Implementation of <a class="reference internal" href="envs.html#compiler_gym.envs.CompilerEnv" title="compiler_gym.envs.CompilerEnv"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompilerEnv</span></code></a>
using gRPC for client-server communication.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>service</strong> (<a class="reference internal" href="#compiler_gym.service.CompilerGymServiceConnection" title="compiler_gym.service.CompilerGymServiceConnection"><em>compiler_gym.service.CompilerGymServiceConnection</em></a>) – A connection to the underlying compiler service.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">service</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.reward.Reward"><span class="pre">Reward</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datasets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="datasets.html#compiler_gym.datasets.Dataset" title="compiler_gym.datasets.dataset.Dataset"><span class="pre">Dataset</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">benchmark</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="datasets.html#compiler_gym.datasets.Benchmark" title="compiler_gym.datasets.benchmark.Benchmark"><span class="pre">Benchmark</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="views.html#compiler_gym.views.ObservationSpaceSpec" title="compiler_gym.views.observation_space_spec.ObservationSpaceSpec"><span class="pre">ObservationSpaceSpec</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.reward.Reward"><span class="pre">Reward</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">derived_observation_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service_message_converters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ServiceMessageConverters" title="compiler_gym.service.client_service_compiler_env.ServiceMessageConverters"><span class="pre">ServiceMessageConverters</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_settings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#compiler_gym.service.ConnectionOpts" title="compiler_gym.service.connection.ConnectionOpts"><span class="pre">ConnectionOpts</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service_connection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#compiler_gym.service.CompilerGymServiceConnection" title="compiler_gym.service.connection.CompilerGymServiceConnection"><span class="pre">CompilerGymServiceConnection</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Construct and initialize a CompilerGym environment.</p>
<p>In normal use you should use <code class="code docutils literal notranslate"><span class="pre">gym.make(...)</span></code> rather than calling
the constructor directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>service</strong> – The hostname and port of a service that implements the
CompilerGym service interface, or the path of a binary file which
provides the CompilerGym service interface when executed. See
<a class="reference internal" href="#"><span class="doc">compiler_gym.service</span></a> for details.</p></li>
<li><p><strong>rewards</strong> – The reward spaces that this environment supports.
Rewards are typically calculated based on observations generated by
the service. See <a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.Reward"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reward</span></code></a> for
details.</p></li>
<li><p><strong>benchmark</strong> – The benchmark to use for this environment. Either a
URI string, or a <a class="reference internal" href="datasets.html#compiler_gym.datasets.Benchmark" title="compiler_gym.datasets.Benchmark"><code class="xref py py-class docutils literal notranslate"><span class="pre">Benchmark</span></code></a> instance. If not provided, the
first benchmark as returned by
<code class="code docutils literal notranslate"><span class="pre">next(env.datasets.benchmarks())</span></code> will be used as the default.</p></li>
<li><p><strong>observation_space</strong> – Compute and return observations at each
<a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="xref py py-func docutils literal notranslate"><span class="pre">step()</span></code></a> from this space. Accepts a string name or an
<a class="reference internal" href="views.html#compiler_gym.views.ObservationSpaceSpec" title="compiler_gym.views.ObservationSpaceSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObservationSpaceSpec</span></code></a>. If not provided,
<a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="xref py py-func docutils literal notranslate"><span class="pre">step()</span></code></a> returns <code class="code docutils literal notranslate"><span class="pre">None</span></code> for the observation value. Can
be set later using <code class="xref py py-meth docutils literal notranslate"><span class="pre">env.observation_space</span></code>. For available
spaces, see <a class="reference internal" href="views.html#compiler_gym.views.ObservationView" title="compiler_gym.views.ObservationView"><code class="xref py py-class docutils literal notranslate"><span class="pre">env.observation.spaces</span></code></a>.</p></li>
<li><p><strong>reward_space</strong> – Compute and return reward at each <a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="xref py py-func docutils literal notranslate"><span class="pre">step()</span></code></a>
from this space. Accepts a string name or a <a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.Reward"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reward</span></code></a>. If not provided, <a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="xref py py-func docutils literal notranslate"><span class="pre">step()</span></code></a>
returns <code class="code docutils literal notranslate"><span class="pre">None</span></code> for the reward value. Can be set later using
<code class="xref py py-meth docutils literal notranslate"><span class="pre">env.reward_space</span></code>. For available spaces,
see <a class="reference internal" href="views.html#compiler_gym.views.RewardView" title="compiler_gym.views.RewardView"><code class="xref py py-class docutils literal notranslate"><span class="pre">env.reward.spaces</span></code></a>.</p></li>
<li><p><strong>action_space</strong> – The name of the action space to use. If not
specified, the default action space for this compiler is used.</p></li>
<li><p><strong>derived_observation_spaces</strong> – An optional list of arguments to be
passed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">env.observation.add_derived_space()</span></code>.</p></li>
<li><p><strong>service_message_converters</strong> – Custom converters for action spaces and actions.</p></li>
<li><p><strong>connection_settings</strong> – The settings used to establish a connection
with the remote service.</p></li>
<li><p><strong>service_connection</strong> – An existing compiler gym service connection
to use.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>FileNotFoundError</strong> – If service is a path to a file that is not
found.</p></li>
<li><p><strong>TimeoutError</strong> – If the compiler service fails to initialize within
the parameters provided in <code class="code docutils literal notranslate"><span class="pre">connection_settings</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.action_space">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">action_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ActionSpace</span></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.action_space" title="Permalink to this definition"></a></dt>
<dd><p>The current action space.</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Get the current action space.</p>
</dd>
<dt class="field-even">Setter</dt>
<dd class="field-even"><p>Set the action space to use. Must be an entry in
<code class="code docutils literal notranslate"><span class="pre">action_spaces</span></code>. If <code class="code docutils literal notranslate"><span class="pre">None</span></code>, the default action space is
selected.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.action_spaces">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">action_spaces</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.action_spaces" title="Permalink to this definition"></a></dt>
<dd><p>A list of supported action space names.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="compiler_gym.html#compiler_gym.CompilerEnvState" title="compiler_gym.compiler_env_state.CompilerEnvState"><span class="pre">CompilerEnvState</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.apply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.apply" title="Permalink to this definition"></a></dt>
<dd><p>Replay this state on the given environment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> – A <a class="reference internal" href="compiler_gym.html#compiler_gym.CompilerEnvState" title="compiler_gym.CompilerEnvState"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompilerEnvState</span></code></a>
instance.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If this state cannot be applied.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.benchmark">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">benchmark</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="datasets.html#compiler_gym.datasets.Benchmark" title="compiler_gym.datasets.benchmark.Benchmark"><span class="pre">Benchmark</span></a></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.benchmark" title="Permalink to this definition"></a></dt>
<dd><p>Get or set the benchmark to use.</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Get <a class="reference internal" href="datasets.html#compiler_gym.datasets.Benchmark" title="compiler_gym.datasets.Benchmark"><code class="xref py py-class docutils literal notranslate"><span class="pre">Benchmark</span></code></a> that
is currently in use.</p>
</dd>
<dt class="field-even">Setter</dt>
<dd class="field-even"><p>Set the benchmark to use. Either a <a class="reference internal" href="datasets.html#compiler_gym.datasets.Benchmark" title="compiler_gym.datasets.Benchmark"><code class="xref py py-class docutils literal notranslate"><span class="pre">Benchmark</span></code></a> instance, or the URI of a
benchmark as in <a class="reference internal" href="datasets.html#compiler_gym.datasets.Datasets.benchmark_uris" title="compiler_gym.datasets.Datasets.benchmark_uris"><code class="xref py py-meth docutils literal notranslate"><span class="pre">env.datasets.benchmark_uris()</span></code></a>.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting a new benchmark has no effect until
<a class="reference internal" href="envs.html#compiler_gym.envs.CompilerEnv.reset" title="compiler_gym.envs.CompilerEnv.reset"><code class="xref py py-func docutils literal notranslate"><span class="pre">env.reset()</span></code></a> is called.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.close" title="Permalink to this definition"></a></dt>
<dd><p>Close the environment.</p>
<p>Once closed, <a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reset" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reset"><code class="xref py py-func docutils literal notranslate"><span class="pre">reset()</span></code></a> must be called before the environment is used
again.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You must make sure to call <code class="code docutils literal notranslate"><span class="pre">env.close()</span></code> on a CompilerGym
environment when you are done with it. This is needed to perform
manual tidying up of temporary files and processes. See <a class="reference internal" href="../faq.html#do-i-need-to-call-env-close"><span class="std std-ref">the
FAQ</span></a> for more details.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.commandline">
<span class="sig-name descname"><span class="pre">commandline</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.commandline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.commandline" title="Permalink to this definition"></a></dt>
<dd><p>Calling this method on a <code class="xref py py-class docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv</span></code> instance raises
<code class="code docutils literal notranslate"><span class="pre">NotImplementedError</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.commandline_to_actions">
<span class="sig-name descname"><span class="pre">commandline_to_actions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">commandline</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ActionType</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.commandline_to_actions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.commandline_to_actions" title="Permalink to this definition"></a></dt>
<dd><p>Calling this method on a <code class="xref py py-class docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv</span></code> instance raises
<code class="code docutils literal notranslate"><span class="pre">NotImplementedError</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.compiler_version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">compiler_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.compiler_version" title="Permalink to this definition"></a></dt>
<dd><p>The version string of the underlying compiler that this service supports.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.episode_reward">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">episode_reward</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.episode_reward" title="Permalink to this definition"></a></dt>
<dd><p><cite>CompilerEnv.reward_space
&lt;compiler_gym.envs.CompilerGym.reward_space&gt;</cite> is set, this value is the
sum of all rewards for the current episode.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>If</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>func</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.episode_walltime">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">episode_walltime</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.episode_walltime" title="Permalink to this definition"></a></dt>
<dd><p>Return the amount of time in seconds since the last call to
<a class="reference internal" href="envs.html#compiler_gym.envs.CompilerEnv.reset" title="compiler_gym.envs.CompilerEnv.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reset()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.fork">
<span class="sig-name descname"><span class="pre">fork</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv"><span class="pre">ClientServiceCompilerEnv</span></a></span></span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.fork"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.fork" title="Permalink to this definition"></a></dt>
<dd><p>Fork a new environment with exactly the same state.</p>
<p>This creates a duplicate environment instance with the current state.
The new environment is entirely independently of the source environment.
The user must call <a class="reference internal" href="envs.html#compiler_gym.envs.CompilerEnv.close" title="compiler_gym.envs.CompilerEnv.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a>
on the original and new environments.</p>
<p>If not already in an episode, <a class="reference internal" href="envs.html#compiler_gym.envs.CompilerEnv.reset" title="compiler_gym.envs.CompilerEnv.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reset()</span></code></a> is called.</p>
<p>Example usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">env</span> <span class="o">=</span> <span class="n">gym</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s2">&quot;llvm-v0&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">env</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="go"># ... use env</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_env</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">fork</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_env</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">env</span><span class="o">.</span><span class="n">state</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_env</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">env</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The client/service implementation of CompilerGym means that the
forked and base environments share a common backend resource. This
means that if either of them crash, such as due to a compiler
assertion, both environments must be reset.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A new environment instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.in_episode">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">in_episode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.in_episode" title="Permalink to this definition"></a></dt>
<dd><p>Whether the service is ready for <a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="xref py py-func docutils literal notranslate"><span class="pre">step()</span></code></a> to be called,
i.e. <a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reset" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reset"><code class="xref py py-func docutils literal notranslate"><span class="pre">reset()</span></code></a> has been called and <a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.close" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.close"><code class="xref py py-func docutils literal notranslate"><span class="pre">close()</span></code></a> has not.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="code docutils literal notranslate"><span class="pre">True</span></code> if in an episode, else <code class="code docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.multistep">
<span class="sig-name descname"><span class="pre">multistep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">ActionType</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="views.html#compiler_gym.views.ObservationSpaceSpec" title="compiler_gym.views.observation_space_spec.ObservationSpaceSpec"><span class="pre">ObservationSpaceSpec</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.reward.Reward"><span class="pre">Reward</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="views.html#compiler_gym.views.ObservationSpaceSpec" title="compiler_gym.views.observation_space_spec.ObservationSpaceSpec"><span class="pre">ObservationSpaceSpec</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.reward.Reward"><span class="pre">Reward</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.multistep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.multistep" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#compiler_gym.service.SessionNotFound" title="compiler_gym.service.SessionNotFound"><strong>SessionNotFound</strong></a> – If :meth:<a href="#id3"><span class="problematic" id="id4">`</span></a>reset()</p>
</dd>
</dl>
<p>&lt;compiler_gym.envs.ClientServiceCompilerEnv.reset&gt;` has not been called.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.observation">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">observation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="views.html#compiler_gym.views.ObservationView" title="compiler_gym.views.observation.ObservationView"><span class="pre">ObservationView</span></a></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.observation" title="Permalink to this definition"></a></dt>
<dd><p>A view of the available observation spaces that permits
on-demand computation of observations.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.observation_space">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">observation_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Space</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.observation_space" title="Permalink to this definition"></a></dt>
<dd><p>The observation space that is used to return an observation value in
<a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="xref py py-func docutils literal notranslate"><span class="pre">step()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Returns the underlying observation space, or <code class="code docutils literal notranslate"><span class="pre">None</span></code> if
not set.</p>
</dd>
<dt class="field-even">Setter</dt>
<dd class="field-even"><p>Set the default observation space.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.raw_step">
<span class="sig-name descname"><span class="pre">raw_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">ActionType</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="views.html#compiler_gym.views.ObservationSpaceSpec" title="compiler_gym.views.observation_space_spec.ObservationSpaceSpec"><span class="pre">ObservationSpaceSpec</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.reward.Reward"><span class="pre">Reward</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">ObservationType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ObservationType</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.raw_step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.raw_step" title="Permalink to this definition"></a></dt>
<dd><p>Take a step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actions</strong> – A list of actions to be applied.</p></li>
<li><p><strong>observations</strong> – A list of observations spaces to compute
observations from. These are evaluated after the actions are
applied.</p></li>
<li><p><strong>rewards</strong> – A list of reward spaces to compute rewards from. These
are evaluated after the actions are applied.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of observations, rewards, done, and info. Observations
and rewards are lists.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#compiler_gym.service.SessionNotFound" title="compiler_gym.service.SessionNotFound"><strong>SessionNotFound</strong></a> – If <code class="xref py py-meth docutils literal notranslate"><span class="pre">reset()</span></code> has not been called.</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Don’t call this method directly, use <code class="xref py py-meth docutils literal notranslate"><span class="pre">step()</span></code> or <code class="xref py py-meth docutils literal notranslate"><span class="pre">multistep()</span></code> instead. The
<code class="xref py py-meth docutils literal notranslate"><span class="pre">raw_step()</span></code> method is an
implementation detail.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.render">
<span class="sig-name descname"><span class="pre">render</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'human'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.render"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.render" title="Permalink to this definition"></a></dt>
<dd><p>Render the environment.</p>
<p>ClientServiceCompilerEnv instances support two render modes: “human”, which prints
the current environment state to the terminal and return nothing; and
“ansi”, which returns a string representation of the current environment
state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mode</strong> – The render mode to use.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>TypeError</strong> – If a default observation space is not set, or if the
requested render mode does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">benchmark</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="datasets.html#compiler_gym.datasets.Benchmark" title="compiler_gym.datasets.benchmark.Benchmark"><span class="pre">Benchmark</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">OptionalArgumentValue</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.reward.Reward"><span class="pre">Reward</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">OptionalArgumentValue.UNCHANGED</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">OptionalArgumentValue</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="views.html#compiler_gym.views.ObservationSpaceSpec" title="compiler_gym.views.observation_space_spec.ObservationSpaceSpec"><span class="pre">ObservationSpaceSpec</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">OptionalArgumentValue.UNCHANGED</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">ObservationType</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the environment state.</p>
<p>This method must be called before <a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="xref py py-func docutils literal notranslate"><span class="pre">step()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>benchmark</strong> – The name of the benchmark to use. If provided, it
overrides any value that was set during <a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.__init__" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.__init__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__init__()</span></code></a>, and
becomes subsequent calls to <code class="code docutils literal notranslate"><span class="pre">reset()</span></code> will use this benchmark.
If no benchmark is provided, and no benchmark was provided to
<code class="xref py py-func docutils literal notranslate"><span class="pre">__init___()</span></code>, the service will randomly select a benchmark to
use.</p></li>
<li><p><strong>action_space</strong> – The name of the action space to use. If provided,
it overrides any value that set during <a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.__init__" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.__init__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__init__()</span></code></a>, and
subsequent calls to <code class="code docutils literal notranslate"><span class="pre">reset()</span></code> will use this action space. If
no action space is provided, the default action space is used.</p></li>
<li><p><strong>observation_space</strong> – Compute and return observations at each
<a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="xref py py-func docutils literal notranslate"><span class="pre">step()</span></code></a> from this space. Accepts a string name or an
<a class="reference internal" href="views.html#compiler_gym.views.ObservationSpaceSpec" title="compiler_gym.views.ObservationSpaceSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObservationSpaceSpec</span></code></a>. If <code class="code docutils literal notranslate"><span class="pre">None</span></code>,
<a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="xref py py-func docutils literal notranslate"><span class="pre">step()</span></code></a> returns <code class="code docutils literal notranslate"><span class="pre">None</span></code> for the observation value. If
<code class="code docutils literal notranslate"><span class="pre">OptionalArgumentValue.UNCHANGED</span></code> (the default value), the
observation space remains unchanged from the previous episode. For
available spaces, see <a class="reference internal" href="views.html#compiler_gym.views.ObservationView" title="compiler_gym.views.ObservationView"><code class="xref py py-class docutils literal notranslate"><span class="pre">env.observation.spaces</span></code></a>.</p></li>
<li><p><strong>reward_space</strong> – Compute and return reward at each <a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="xref py py-func docutils literal notranslate"><span class="pre">step()</span></code></a>
from this space. Accepts a string name or a <a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.Reward"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reward</span></code></a>. If <code class="code docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="xref py py-func docutils literal notranslate"><span class="pre">step()</span></code></a>
returns <code class="code docutils literal notranslate"><span class="pre">None</span></code> for the reward value.  If
<code class="code docutils literal notranslate"><span class="pre">OptionalArgumentValue.UNCHANGED</span></code> (the default value), the
observation space remains unchanged from the previous episode. For
available spaces, see <a class="reference internal" href="views.html#compiler_gym.views.RewardView" title="compiler_gym.views.RewardView"><code class="xref py py-class docutils literal notranslate"><span class="pre">env.reward.spaces</span></code></a>.</p></li>
<li><p><strong>timeout</strong> – The maximum number of seconds to wait for reset to
succeed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The initial observation.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="datasets.html#compiler_gym.datasets.BenchmarkInitError" title="compiler_gym.datasets.BenchmarkInitError"><strong>BenchmarkInitError</strong></a> – If the benchmark is invalid. This can happen
if the benchmark contains code that the compiler does not support,
or because of some internal error within the compiler. In this case,
another benchmark must be used.</p></li>
<li><p><strong>TypeError</strong> – If no benchmark has been set, and the environment
does not have a default benchmark to select from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reward">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reward</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="views.html#compiler_gym.views.RewardView" title="compiler_gym.views.reward.RewardView"><span class="pre">RewardView</span></a></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reward" title="Permalink to this definition"></a></dt>
<dd><p>A view of the available reward spaces that permits on-demand
computation of rewards.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reward_range">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reward_range</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reward_range" title="Permalink to this definition"></a></dt>
<dd><p>A tuple indicating the range of reward values.</p>
<p>Default range is (-inf, +inf).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reward_space">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reward_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.reward.Reward"><span class="pre">Reward</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.reward_space" title="Permalink to this definition"></a></dt>
<dd><p>The default reward space that is used to return a reward value from
<a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step"><code class="xref py py-func docutils literal notranslate"><span class="pre">step()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Getter</dt>
<dd class="field-odd"><p>Returns a <a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.Reward"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reward</span></code></a>,
or <code class="code docutils literal notranslate"><span class="pre">None</span></code> if not set.</p>
</dd>
<dt class="field-even">Setter</dt>
<dd class="field-even"><p>Set the default reward space.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.send_param">
<span class="sig-name descname"><span class="pre">send_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resend_on_reset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.send_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.send_param" title="Permalink to this definition"></a></dt>
<dd><p>Send a single &lt;key, value&gt; parameter to the compiler service.</p>
<p>See <code class="xref py py-meth docutils literal notranslate"><span class="pre">send_params()</span></code>
for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The parameter key.</p></li>
<li><p><strong>value</strong> – The parameter value.</p></li>
<li><p><strong>resend_on_reset</strong> – Whether to resend this parameter to the compiler
service on <code class="code docutils literal notranslate"><span class="pre">reset()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The response from the compiler service.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#compiler_gym.service.SessionNotFound" title="compiler_gym.service.SessionNotFound"><strong>SessionNotFound</strong></a> – If called before <code class="xref py py-meth docutils literal notranslate"><span class="pre">reset()</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.send_params">
<span class="sig-name descname"><span class="pre">send_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resend_on_reset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.send_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.send_params" title="Permalink to this definition"></a></dt>
<dd><p>Send a list of &lt;key, value&gt; parameters to the compiler service.</p>
<p>This provides a mechanism to send messages to the backend compilation
session in a way that doesn’t conform to the normal communication
pattern. This can be useful for things like configuring runtime
debugging settings, or applying “meta actions” to the compiler that are
not exposed in the compiler’s action space. Consult the documentation
for a specific compiler service to see what parameters, if any, are
supported.</p>
<p>Must have called <code class="xref py py-meth docutils literal notranslate"><span class="pre">reset()</span></code>
first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> – A list of parameters, where each parameter is a
<code class="code docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">value)</span></code> tuple.</p></li>
<li><p><strong>resend_on_reset</strong> – Whether to resend this parameter to the compiler
service on <code class="code docutils literal notranslate"><span class="pre">reset()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of string responses, one per parameter.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#compiler_gym.service.SessionNotFound" title="compiler_gym.service.SessionNotFound"><strong>SessionNotFound</strong></a> – If called before <code class="xref py py-meth docutils literal notranslate"><span class="pre">reset()</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.state">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="compiler_gym.html#compiler_gym.CompilerEnvState" title="compiler_gym.compiler_env_state.CompilerEnvState"><span class="pre">CompilerEnvState</span></a></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.state" title="Permalink to this definition"></a></dt>
<dd><p>The tuple representation of the current environment state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ActionType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="views.html#compiler_gym.views.ObservationSpaceSpec" title="compiler_gym.views.observation_space_spec.ObservationSpaceSpec"><span class="pre">ObservationSpaceSpec</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.reward.Reward"><span class="pre">Reward</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="views.html#compiler_gym.views.ObservationSpaceSpec" title="compiler_gym.views.observation_space_spec.ObservationSpaceSpec"><span class="pre">ObservationSpaceSpec</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="spaces.html#compiler_gym.spaces.Reward" title="compiler_gym.spaces.reward.Reward"><span class="pre">Reward</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">ObservationType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ObservationType</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.step" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#compiler_gym.service.SessionNotFound" title="compiler_gym.service.SessionNotFound"><strong>SessionNotFound</strong></a> – If :meth:<a href="#id5"><span class="problematic" id="id6">`</span></a>reset()</p>
</dd>
</dl>
<p>&lt;compiler_gym.envs.ClientServiceCompilerEnv.reset&gt;` has not been called.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="compiler_gym.html#compiler_gym.CompilerEnvState" title="compiler_gym.compiler_env_state.CompilerEnvState"><span class="pre">CompilerEnvState</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="compiler_gym.html#compiler_gym.ValidationResult" title="compiler_gym.validation_result.ValidationResult"><span class="pre">ValidationResult</span></a></span></span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ClientServiceCompilerEnv.validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.validate" title="Permalink to this definition"></a></dt>
<dd><p>Validate an environment’s state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> – A state to environment. If not provided, the current state
is validated.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="compiler_gym.html#compiler_gym.ValidationResult" title="compiler_gym.ValidationResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValidationResult</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.version" title="Permalink to this definition"></a></dt>
<dd><p>The version string of the compiler service.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.versions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">versions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">GetVersionReply</span></em><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv.versions" title="Permalink to this definition"></a></dt>
<dd><p>Get the version numbers from the compiler service.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ServiceMessageConverters">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">compiler_gym.service.client_service_compiler_env.</span></span><span class="sig-name descname"><span class="pre">ServiceMessageConverters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action_space_converter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">ActionSpace</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Space</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_converter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Event</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ServiceMessageConverters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ServiceMessageConverters" title="Permalink to this definition"></a></dt>
<dd><p>Allows for customization of conversion to/from gRPC messages for the
<a class="reference internal" href="#compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv" title="compiler_gym.service.client_service_compiler_env.ClientServiceCompilerEnv"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClientServiceCompilerEnv</span></code></a>.</p>
<p>Supports conversion customizations:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">compiler_gym.service.proto.ActionSpace</span></code> -&gt;
<code class="code docutils literal notranslate"><span class="pre">gym.spaces.Space</span></code>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">compiler_gym.util.gym_type_hints.ActionType</span></code> -&gt;
<code class="code docutils literal notranslate"><span class="pre">compiler_gym.service.proto.Event</span></code>.</p></li>
</ul>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.client_service_compiler_env.ServiceMessageConverters.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action_space_converter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">ActionSpace</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Space</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_converter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Event</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/compiler_gym/service/client_service_compiler_env.html#ServiceMessageConverters.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.client_service_compiler_env.ServiceMessageConverters.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Constructor.</p>
</dd></dl>

</dd></dl>

</section>
<section id="the-connection-object">
<h2><a class="toc-backref" href="#id9">The connection object</a><a class="headerlink" href="#the-connection-object" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="compiler_gym.service.CompilerGymServiceConnection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">compiler_gym.service.</span></span><span class="sig-name descname"><span class="pre">CompilerGymServiceConnection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#compiler_gym.service.ConnectionOpts" title="compiler_gym.service.connection.ConnectionOpts"><span class="pre">ConnectionOpts</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/compiler_gym/service/connection.html#CompilerGymServiceConnection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.CompilerGymServiceConnection" title="Permalink to this definition"></a></dt>
<dd><p>A connection to a compiler gym service.</p>
<p>There are two types of service connections: managed and unmanaged. The type
of connection is determined by the endpoint. If a “host:port” URL is provided,
an unmanaged connection is created. If the path of a file is provided, a
managed connection is used. The difference between a managed and unmanaged
connection is that with a managed connection, the lifecycle of the service
if controlled by the client connection. That is, when a managed connection
is created, a service subprocess is started by executing the specified path.
When the connection is closed, the subprocess is terminated. With an
unmanaged connection, if the service fails is goes offline, the client will
fail.</p>
<p>This class provides a common abstraction between the two types of connection,
and provides a call method for invoking remote procedures on the service.</p>
<p>Example usage of an unmanaged service connection:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Connect to a service running on localhost:8080. The user must</span>
<span class="c1"># started a process running on port 8080.</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">CompilerGymServiceConnection</span><span class="p">(</span><span class="s2">&quot;localhost:8080&quot;</span><span class="p">)</span>
<span class="c1"># Invoke an RPC method.</span>
<span class="n">connection</span><span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">stub</span><span class="o">.</span><span class="n">StartSession</span><span class="p">,</span> <span class="n">StartSessionRequest</span><span class="p">())</span>
<span class="c1"># Close the connection. The service running on port 8080 is</span>
<span class="c1"># left running.</span>
<span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Example usage of a managed service connection:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Start a subprocess using the binary located at /path/to/my/service.</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">CompilerGymServiceConnection</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/path/to/my/service&quot;</span><span class="p">))</span>
<span class="c1"># Invoke an RPC method.</span>
<span class="n">connection</span><span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">stub</span><span class="o">.</span><span class="n">StartSession</span><span class="p">,</span> <span class="n">StartSessionRequest</span><span class="p">())</span>
<span class="c1"># Close the connection. The subprocess is terminated.</span>
<span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stub</strong> – A CompilerGymServiceStub that can be used as the first argument
to <a class="reference internal" href="#compiler_gym.service.CompilerGymServiceConnection.__call__" title="compiler_gym.service.CompilerGymServiceConnection.__call__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__call__()</span></code></a> to specify an RPC
method to call.</p></li>
<li><p><strong>action_spaces</strong> – A list of action spaces provided by the service.</p></li>
<li><p><strong>observation_spaces</strong> – A list of observation spaces provided by the
service.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.CompilerGymServiceConnection.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#compiler_gym.service.ConnectionOpts" title="compiler_gym.service.connection.ConnectionOpts"><span class="pre">ConnectionOpts</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/compiler_gym/service/connection.html#CompilerGymServiceConnection.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.CompilerGymServiceConnection.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoint</strong> – The connection endpoint. Either the URL of a service,
e.g. “localhost:8080”, or the path of a local service binary.</p></li>
<li><p><strong>opts</strong> – The connection options.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the provided options are invalid.</p></li>
<li><p><strong>FileNotFoundError</strong> – In case opts.local_service_binary is not found.</p></li>
<li><p><strong>TimeoutError</strong> – In case the service failed to start within
opts.init_max_seconds seconds.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.CompilerGymServiceConnection.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stub_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">StubMethod</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_retries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_wait_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_wait_backoff_exponent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Reply</span></span></span><a class="reference internal" href="../_modules/compiler_gym/service/connection.html#CompilerGymServiceConnection.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.CompilerGymServiceConnection.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Invoke an RPC method on the service and return its response. All
RPC methods accept a single <cite>request</cite> message, and respond with a
response message.</p>
<p>Example usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">CompilerGymServiceConnection</span><span class="p">(</span><span class="s2">&quot;localhost:8080&quot;</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">compiler_gym</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">proto</span><span class="o">.</span><span class="n">GetSpacesRequest</span><span class="p">()</span>
<span class="n">reply</span> <span class="o">=</span> <span class="n">connection</span><span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">stub</span><span class="o">.</span><span class="n">GetSpaces</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
</pre></div>
</div>
<p>In the above example, the <cite>GetSpaces</cite> RPC method is invoked on a
connection, yielding a <cite>GetSpacesReply</cite> message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stub_method</strong> – An RPC method attribute on <cite>CompilerGymServiceStub</cite>.</p></li>
<li><p><strong>request</strong> – A request message.</p></li>
<li><p><strong>timeout</strong> – The maximum number of seconds to await a reply.</p></li>
<li><p><strong>max_retries</strong> – The maximum number of failed attempts to communicate
with the RPC service before raising an error. Retries are made only
for communication errors. Failures from other causes such as error
signals raised by the service are not retried.</p></li>
<li><p><strong>retry_wait_seconds</strong> – The number of seconds to wait between
successive attempts to communicate with the RPC service.</p></li>
<li><p><strong>retry_wait_backoff_exponent</strong> – The exponential backoff scaling
between successive attempts to communicate with the RPC service.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the service responds with an error indicating an
invalid argument.</p></li>
<li><p><strong>NotImplementedError</strong> – If the service responds with an error
indicating that the requested functionality is not implemented.</p></li>
<li><p><strong>FileNotFoundError</strong> – If the service responds with an error
indicating that a requested resource was not found.</p></li>
<li><p><strong>OSError</strong> – If the service responds with an error indicating that
it ran out of resources.</p></li>
<li><p><strong>TypeError</strong> – If the provided <cite>request</cite> parameter is of
incorrect type or cannot be serialized, or if the service responds
with an error indicating that a precondition failed.</p></li>
<li><p><strong>TimeoutError</strong> – If the service failed to respond to the query
within the specified <cite>timeout</cite>.</p></li>
<li><p><a class="reference internal" href="#compiler_gym.service.ServiceTransportError" title="compiler_gym.service.ServiceTransportError"><strong>ServiceTransportError</strong></a> – If the client failed to communicate with
the service.</p></li>
<li><p><a class="reference internal" href="#compiler_gym.service.ServiceIsClosed" title="compiler_gym.service.ServiceIsClosed"><strong>ServiceIsClosed</strong></a> – If the connection to the service is closed.</p></li>
<li><p><a class="reference internal" href="#compiler_gym.service.ServiceError" title="compiler_gym.service.ServiceError"><strong>ServiceError</strong></a> – If the service raised an error not covered by
any of the above conditions.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A reply message.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="compiler_gym.service.CompilerGymServiceConnection.closed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">closed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#compiler_gym.service.CompilerGymServiceConnection.closed" title="Permalink to this definition"></a></dt>
<dd><p>Whether the connection is closed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="compiler_gym.service.CompilerGymServiceConnection.restart">
<span class="sig-name descname"><span class="pre">restart</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/compiler_gym/service/connection.html#CompilerGymServiceConnection.restart"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.CompilerGymServiceConnection.restart" title="Permalink to this definition"></a></dt>
<dd><p>Restart a connection a service. If the service is managed by this
connection (i.e. it is a local binary), the existing service process
will be killed and replaced. Else, only the connection to the unmanaged
service process is replaced.</p>
</dd></dl>

</dd></dl>

</section>
<section id="configuring-the-connection">
<h2><a class="toc-backref" href="#id10">Configuring the connection</a><a class="headerlink" href="#configuring-the-connection" title="Permalink to this heading"></a></h2>
<p>The <a class="reference internal" href="#compiler_gym.service.ConnectionOpts" title="compiler_gym.service.ConnectionOpts"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConnectionOpts</span></code></a> object is used
to configure the options used for managing a service connection.</p>
<dl class="py class">
<dt class="sig sig-object py" id="compiler_gym.service.ConnectionOpts">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">compiler_gym.service.</span></span><span class="sig-name descname"><span class="pre">ConnectionOpts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rpc_max_retries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_wait_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_wait_backoff_exponent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_max_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_max_attempts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_service_port_init_max_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_service_exit_max_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rpc_init_max_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">always_send_benchmark_on_reset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/compiler_gym/service/connection.html#ConnectionOpts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.ConnectionOpts" title="Permalink to this definition"></a></dt>
<dd><p>The options used to configure a connection to a service.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.ConnectionOpts.always_send_benchmark_on_reset">
<span class="sig-name descname"><span class="pre">always_send_benchmark_on_reset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#compiler_gym.service.ConnectionOpts.always_send_benchmark_on_reset" title="Permalink to this definition"></a></dt>
<dd><p>Send the full benchmark program data to the compiler service on ever call
to <a class="reference internal" href="envs.html#compiler_gym.envs.CompilerEnv.reset" title="compiler_gym.envs.CompilerEnv.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">env.reset()</span></code></a>. This is more
efficient in cases where the majority of calls to
<a class="reference internal" href="envs.html#compiler_gym.envs.CompilerEnv.reset" title="compiler_gym.envs.CompilerEnv.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">env.reset()</span></code></a> uses a different
benchmark. In case of benchmark re-use, leave this <code class="code docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.ConnectionOpts.init_max_attempts">
<span class="sig-name descname"><span class="pre">init_max_attempts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#compiler_gym.service.ConnectionOpts.init_max_attempts" title="Permalink to this definition"></a></dt>
<dd><p>The maximum number of attempts to make to establish a connection to the
service before failing.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.ConnectionOpts.init_max_seconds">
<span class="sig-name descname"><span class="pre">init_max_seconds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#compiler_gym.service.ConnectionOpts.init_max_seconds" title="Permalink to this definition"></a></dt>
<dd><p>The maximum number of seconds to spend attempting to establish a
connection to the service before failing.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.ConnectionOpts.local_service_exit_max_seconds">
<span class="sig-name descname"><span class="pre">local_service_exit_max_seconds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#compiler_gym.service.ConnectionOpts.local_service_exit_max_seconds" title="Permalink to this definition"></a></dt>
<dd><p>The maximum number of seconds to wait for a local service to terminate on close.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.ConnectionOpts.local_service_port_init_max_seconds">
<span class="sig-name descname"><span class="pre">local_service_port_init_max_seconds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#compiler_gym.service.ConnectionOpts.local_service_port_init_max_seconds" title="Permalink to this definition"></a></dt>
<dd><p>The maximum number of seconds to wait for a local service to write the port.txt file.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.ConnectionOpts.retry_wait_backoff_exponent">
<span class="sig-name descname"><span class="pre">retry_wait_backoff_exponent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#compiler_gym.service.ConnectionOpts.retry_wait_backoff_exponent" title="Permalink to this definition"></a></dt>
<dd><p>The exponential backoff scaling between successive attempts to
communicate with the RPC service.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.ConnectionOpts.retry_wait_seconds">
<span class="sig-name descname"><span class="pre">retry_wait_seconds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#compiler_gym.service.ConnectionOpts.retry_wait_seconds" title="Permalink to this definition"></a></dt>
<dd><p>The number of seconds to wait between successive attempts to communicate
with the RPC service.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.ConnectionOpts.rpc_init_max_seconds">
<span class="sig-name descname"><span class="pre">rpc_init_max_seconds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#compiler_gym.service.ConnectionOpts.rpc_init_max_seconds" title="Permalink to this definition"></a></dt>
<dd><p>The maximum number of seconds to wait for an RPC connection to establish.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.ConnectionOpts.rpc_max_retries">
<span class="sig-name descname"><span class="pre">rpc_max_retries</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#compiler_gym.service.ConnectionOpts.rpc_max_retries" title="Permalink to this definition"></a></dt>
<dd><p>The maximum number of failed attempts to communicate with the RPC service
before raising an error. Retries are made only for communication errors.
Failures from other causes such as error signals raised by the service are
not retried.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.ConnectionOpts.script_args">
<span class="sig-name descname"><span class="pre">script_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#compiler_gym.service.ConnectionOpts.script_args" title="Permalink to this definition"></a></dt>
<dd><p>If the service is started from a local script, this set of args is used
on the command line. No effect when used for existing sockets.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="compiler_gym.service.ConnectionOpts.script_env">
<span class="sig-name descname"><span class="pre">script_env</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#compiler_gym.service.ConnectionOpts.script_env" title="Permalink to this definition"></a></dt>
<dd><p>If the service is started from a local script, this set of env vars is
used on the command line. No effect when used for existing sockets.</p>
</dd></dl>

</dd></dl>

</section>
<section id="exceptions">
<h2><a class="toc-backref" href="#id11">Exceptions</a><a class="headerlink" href="#exceptions" title="Permalink to this heading"></a></h2>
<p>In general, errors raised by the service are converted to the equivalent builtin
exception type, e.g., <cite>ValueError</cite> for invalid method arguments, and
<cite>FileNotFound</cite> for resource errors. However, some error cases are not well
covered by the builtin exception hierarchy. For those cases, we define custom
exception types, all inheriting from a base <a class="reference internal" href="#compiler_gym.service.ServiceError" title="compiler_gym.service.ServiceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ServiceError</span></code></a> class:</p>
<dl class="py exception">
<dt class="sig sig-object py" id="compiler_gym.service.ServiceError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">compiler_gym.service.</span></span><span class="sig-name descname"><span class="pre">ServiceError</span></span><a class="reference internal" href="../_modules/compiler_gym/errors/service_errors.html#ServiceError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.ServiceError" title="Permalink to this definition"></a></dt>
<dd><p>Error raised from the service.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="compiler_gym.service.EnvironmentNotSupported">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">compiler_gym.service.</span></span><span class="sig-name descname"><span class="pre">EnvironmentNotSupported</span></span><a class="reference internal" href="../_modules/compiler_gym/errors/service_errors.html#EnvironmentNotSupported"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.EnvironmentNotSupported" title="Permalink to this definition"></a></dt>
<dd><p>Error raised if the runtime requirements for an environment are not
met on the current system.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="compiler_gym.service.ServiceInitError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">compiler_gym.service.</span></span><span class="sig-name descname"><span class="pre">ServiceInitError</span></span><a class="reference internal" href="../_modules/compiler_gym/errors/service_errors.html#ServiceInitError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.ServiceInitError" title="Permalink to this definition"></a></dt>
<dd><p>Error raised if the service fails to initialize.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="compiler_gym.service.ServiceTransportError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">compiler_gym.service.</span></span><span class="sig-name descname"><span class="pre">ServiceTransportError</span></span><a class="reference internal" href="../_modules/compiler_gym/errors/service_errors.html#ServiceTransportError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.ServiceTransportError" title="Permalink to this definition"></a></dt>
<dd><p>Error that is raised if communication with the service fails.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="compiler_gym.service.ServiceIsClosed">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">compiler_gym.service.</span></span><span class="sig-name descname"><span class="pre">ServiceIsClosed</span></span><a class="reference internal" href="../_modules/compiler_gym/errors/service_errors.html#ServiceIsClosed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.ServiceIsClosed" title="Permalink to this definition"></a></dt>
<dd><p>Error that is raised if trying to interact with a closed service.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="compiler_gym.service.SessionNotFound">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">compiler_gym.service.</span></span><span class="sig-name descname"><span class="pre">SessionNotFound</span></span><a class="reference internal" href="../_modules/compiler_gym/errors/service_errors.html#SessionNotFound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#compiler_gym.service.SessionNotFound" title="Permalink to this definition"></a></dt>
<dd><p>Requested session ID not found in service.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="leaderboard.html" class="btn btn-neutral float-left" title="compiler_gym.leaderboard" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="service/runtime.html" class="btn btn-neutral float-right" title="compiler_gym.service.runtime" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Meta Platforms, Inc.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WJN2CKJJKH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WJN2CKJJKH', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>