<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>About &mdash; CompilerGym 0.2.5 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="#" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Command Line Reference" href="cli.html" />
    <link rel="prev" title="Getting Started" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.2.5
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#motivation">Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#our-vision">Our Vision</a></li>
<li class="toctree-l2"><a class="reference internal" href="#roadmap">Roadmap</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#enabling-increasingly-granular-control-over-optimization-decisions">Enabling increasingly-granular control over optimization decisions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#feature-stability">Feature Stability</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="rpc.html">RPC Service Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Environments</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="llvm/index.html">LLVM Environment Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="envs/gcc.html">GCC Environment Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="envs/loop_tool.html">loop_tool Environment Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="envs/mlir.html">MLIR Environment Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="compiler_gym/compiler_gym.html">compiler_gym</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiler_gym/datasets.html">compiler_gym.datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiler_gym/envs.html">compiler_gym.envs</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiler_gym/envs/gcc.html">compiler_gym.envs.gcc</a></li>
<li class="toctree-l1"><a class="reference internal" href="llvm/api.html">compiler_gym.envs.llvm</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiler_gym/leaderboard.html">compiler_gym.leaderboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiler_gym/service.html">compiler_gym.service</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiler_gym/service/runtime.html">compiler_gym.service.runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiler_gym/spaces.html">compiler_gym.spaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiler_gym/views.html">compiler_gym.views</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiler_gym/wrappers.html">compiler_gym.wrappers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">C++ API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cc/compiler_gym/envs/llvm/service.html">compiler_gym/envs/llvm/service</a></li>
<li class="toctree-l1"><a class="reference internal" href="cc/compiler_gym/service.html">compiler_gym/service</a></li>
<li class="toctree-l1"><a class="reference internal" href="cc/compiler_gym/service/runtime.html">compiler_gym/service/runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="cc/compiler_gym/util.html">compiler_gym/util</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CompilerGym</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>About</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/about.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="about">
<h1>About<a class="headerlink" href="#about" title="Permalink to this heading"></a></h1>
<p>CompilerGym is a toolkit for exposing compiler optimization problems
for reinforcement learning. It allows AI researchers to experiment
with program optimization techniques without requiring any experience
in compilers, and provides a framework for compiler developers to
expose new optimization problems for AI.</p>
<div class="contents local topic" id="overview">
<p class="topic-title">Overview:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#motivation" id="id2">Motivation</a></p></li>
<li><p><a class="reference internal" href="#our-vision" id="id3">Our Vision</a></p></li>
<li><p><a class="reference internal" href="#roadmap" id="id4">Roadmap</a></p>
<ul>
<li><p><a class="reference internal" href="#enabling-increasingly-granular-control-over-optimization-decisions" id="id5">Enabling increasingly-granular control over optimization decisions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#feature-stability" id="id6">Feature Stability</a></p></li>
</ul>
</div>
<section id="motivation">
<h2><a class="toc-backref" href="#id2">Motivation</a><a class="headerlink" href="#motivation" title="Permalink to this heading"></a></h2>
<p>The optimization decisions that compilers make are critical for the
performance and efficiency of compiled software. However, tuning an
optimizing compiler is hard. There are many decisions to make, a near
infinite number of possible input programs, and most programs respond
differently to optimizations. Interest in applying AI to this problem
is increasing rapidly, but compilers are complex, always changing, and
comprise millions of lines of low-level systems code.  Further, most
compilers don’t expose the optimization decisions in a discoverable
manner, and those that do often don’t provide an accessible platform
for experimentation. This creates a high barrier to entry. As a
result, progress is slow.</p>
</section>
<section id="our-vision">
<h2><a class="toc-backref" href="#id3">Our Vision</a><a class="headerlink" href="#our-vision" title="Permalink to this heading"></a></h2>
<p>We aim to lower the barrier to entry to compiler AI research by
building a playground that allows anyone to experiment with program
optimizations, without needing to write a single line of C++. We have
four goals:</p>
<ol class="arabic simple">
<li><p>Build the “ImageNet for compilers”: a high-quality, open-source
OpenAI gym environment for experimenting with compiler
optimizations using real-world software and datasets and get it
into the hands of AI researchers. The environment takes care of the
substantial engineering legwork that is required to get started in
compiler research.</p></li>
<li><p>Improve the fairness and reproducibility of compiler research by
allowing direct comparison of different techniques using a common
experimental framework.</p></li>
<li><p>Allow users to control every single decision that a compiler
makes. To begin with, we will focus on exposing high-level
optimization decisions for which there are existing hand-tuned
heuristics. We will gradually relax this restriction to accommodate
every optimization decision, eventually, even introducing new
decisions, using the compiler as a platform for arbitrary code
manipulation (see <a class="reference internal" href="#roadmap"><span class="std std-ref">Roadmap</span></a> for details).</p></li>
<li><p>Make it easy to deploy research findings to production. Often,
there is no clear path for a research prototype to have impact on
real-world infrastructure. Using our environment we can build out
the tools so that the best of the research results can be directly
applied to improving production use cases, by integrating with
existing build infrastructure.</p></li>
</ol>
</section>
<section id="roadmap">
<span id="id1"></span><h2><a class="toc-backref" href="#id4">Roadmap</a><a class="headerlink" href="#roadmap" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>v0.1.0 software release.</p>
<ul>
<li><p>Release the LLVM codesize problem set for one-line install on
Linux / macOS.</p></li>
<li><p>Provide baseline agent implementations and results on benchmarks.</p></li>
</ul>
</li>
<li><p>v0.1.x releases.</p>
<ul>
<li><p>Add support for optimizing LLVM for performance and compiled
codesize.</p></li>
<li><p>Add support for distributed agent/environments during training.</p></li>
<li><p>Add a distributed environment state cache to make training faster.</p></li>
</ul>
</li>
<li><p>v1.x.x releases.</p>
<ul>
<li><p>Take what we learned from building environments for compilers and
generalize it to other systems domains, e.g. OS level
optimizations, scheduling problems, etc.</p></li>
</ul>
</li>
</ul>
<section id="enabling-increasingly-granular-control-over-optimization-decisions">
<h3><a class="toc-backref" href="#id5">Enabling increasingly-granular control over optimization decisions</a><a class="headerlink" href="#enabling-increasingly-granular-control-over-optimization-decisions" title="Permalink to this heading"></a></h3>
<p>Most compilers optimize programs by running code through a fixed
pipeline of optimization passes. An optimization pass is a set of code
rewrite rules, for example a <code class="code docutils literal notranslate"><span class="pre">LoopUnroll</span></code> pass duplicates the
body so that fewer loop iterations are required. Many of these rules
are parameterized, e.g., loop unrolling can be applied with different
factors (how many times to unroll a loop). A pattern matcher
determines where the transform should be applied, e.g. estimating
which loops would benefit from unrolling.</p>
<img alt="_images/compiler_pipeline.png" src="_images/compiler_pipeline.png" />
<p>Our plan is to extend the granularity of control over the compiler
that we expose in four phases:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 25%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Phase</p></th>
<th class="head"><p>Granularity</p></th>
<th class="head"><p>Example decision</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Optimization Pass</p></td>
<td><p>Which optimization pass should I run next?</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Pattern Matcher</p></td>
<td><p>Which of the 10 loops in the program sould I unroll?</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Parametrized Transform</p></td>
<td><p>How many times should I unroll this loop?</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Code Rewrite Rule</p></td>
<td><p>What instruction should I replace this code with to make it
better?</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="feature-stability">
<span id="stability"></span><h2><a class="toc-backref" href="#id6">Feature Stability</a><a class="headerlink" href="#feature-stability" title="Permalink to this heading"></a></h2>
<p>CompilerGym is in an early stage of development. Our goal is to maintain a
<em>stable user-facing API</em> to support developing agents, while achieving a fast
pace of development by permitting a <em>volatile implementation for backend
features</em>. This table summarizes our stability guarantees by component, starting
at the user-facing APIs and working down to the backend service implementations:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 64%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Component</p></th>
<th class="head"><p>Stability</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">Core Python API.</div>
<div class="line"><em>e.g.</em> <a class="reference internal" href="compiler_gym/envs.html#compiler_gym.envs.CompilerEnv.step" title="compiler_gym.envs.CompilerEnv.step"><code class="xref py py-meth docutils literal notranslate"><span class="pre">env.step()</span></code></a>, <a class="reference internal" href="compiler_gym/envs.html#compiler_gym.envs.CompilerEnv.reset" title="compiler_gym.envs.CompilerEnv.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">env.reset()</span></code></a>.</div>
</div>
</td>
<td><div class="line-block">
<div class="line">✅ <strong>Stable</strong>. We provide full compatibility with the OpenAI</div>
<div class="line">gym interface. Should OpenAI change this interface,</div>
<div class="line">we will update and maintain backwards compatability</div>
<div class="line">for a minimum of five releases.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">Python API Extensions.</div>
<div class="line"><em>e.g.</em> <a class="reference internal" href="compiler_gym/envs.html#compiler_gym.envs.CompilerEnv.fork" title="compiler_gym.envs.CompilerEnv.fork"><code class="xref py py-meth docutils literal notranslate"><span class="pre">env.fork()</span></code></a>, <a class="reference internal" href="compiler_gym/envs.html#compiler_gym.envs.CompilerEnv.validate" title="compiler_gym.envs.CompilerEnv.validate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">env.validate()</span></code></a>.</div>
</div>
</td>
<td><div class="line-block">
<div class="line">🏗️ <strong>Stable with dreprecations</strong>. Breaking changes will be</div>
<div class="line">used sparingly where they lead to clear improvements</div>
<div class="line">in usability or performance. Any breaking change will</div>
<div class="line">be preceded by runtime deprecation warnings for a</div>
<div class="line">minimum of two releases.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">Compiler Service RPC interface.</div>
<div class="line"><em>e.g.</em> <a class="reference external" href="https://github.com/facebookresearch/CompilerGym/blob/development/compiler_gym/service/proto/compiler_gym_service.proto">CompilerGymService</a>.</div>
</div>
</td>
<td><div class="line-block">
<div class="line">⚠️ <strong>Somewhat stable.</strong> Breaking changes are planned, and</div>
<div class="line">will be preceded by deprecation notices in the source</div>
<div class="line">code for a minimum of one release. We recommend</div>
<div class="line">upstreaming new compiler support early to alleviate</div>
<div class="line">maintenance burden.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">Compiler Service Implementations.</div>
<div class="line"><em>e.g.</em> <a class="reference internal" href="llvm/index.html"><span class="doc">the LLVM C++ codebase</span></a>.</div>
</div>
</td>
<td><div class="line-block">
<div class="line">🛑 <strong>Not Stable.</strong> Breaking changes can happen at any time.</div>
<div class="line">There is no API stability guarantees. If you are modifying</div>
<div class="line">a compiler service it is strongly recommended to upstream</div>
<div class="line">your work to ease the maintenance burden.</div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="getting_started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cli.html" class="btn btn-neutral float-right" title="Command Line Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Meta Platforms, Inc.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WJN2CKJJKH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WJN2CKJJKH', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>